create table address (id_address int8 generated by default as identity, city varchar(255) not null, country varchar(255) not null, street varchar(255) not null, street_number varchar(255) not null, zip_code int4 not null, primary key (id_address));
create table division (id_division int8 generated by default as identity, director_fullname varchar(255) not null, name varchar(255) not null, original_name varchar(255) not null, primary key (id_division));
create table users (id int8 generated by default as identity, cellphone_number varchar(255), email varchar(255), home_number varchar(255), first_name varchar(255) not null, last_name varchar(255) not null, license_plate varchar(255) not null, registration_date date not null, fk_user int8 not null, primary key (id));
alter table if exists division add constraint UK_bw4owjjddobaevrmh4o67vaho unique (name);
alter table if exists users add constraint FKqlif7se6sma4svjik6hbxmf4o foreign key (fk_user) references address;
create table address (id_address int8 generated by default as identity, city varchar(255) not null, country varchar(255) not null, street varchar(255) not null, street_number varchar(255) not null, zip_code int4 not null, primary key (id_address));
create table contact_person (id_contact_person int8 generated by default as identity, cellphone_number varchar(255), email varchar(255), home_number varchar(255), first_name varchar(255), last_name varchar(255), fk_id_address int8, primary key (id_contact_person));
create table division (id_division int8 generated by default as identity, director_fullname varchar(255) not null, name varchar(255) not null, original_name varchar(255) not null, primary key (id_division));
create table parking_lot (id_parking_lot int8 generated by default as identity, category varchar(255), max_capacity int4, name varchar(255), price_per_hour float8, fk_id_address int8, fk_id_contact_person int8, primary key (id_parking_lot));
create table users (id int8 generated by default as identity, cellphone_number varchar(255), email varchar(255), home_number varchar(255), first_name varchar(255) not null, last_name varchar(255) not null, license_plate varchar(255) not null, registration_date date not null, fk_user int8 not null, primary key (id));
alter table if exists division add constraint UK_bw4owjjddobaevrmh4o67vaho unique (name);
alter table if exists contact_person add constraint FKpxpx2y729qg3f3r3bmjclj3um foreign key (fk_id_address) references address;
alter table if exists parking_lot add constraint FK3lh2e28b04ov8ysm7jx010bxp foreign key (fk_id_address) references address;
alter table if exists parking_lot add constraint FK4bji7ji6w0ajqp9pi89ewcp0l foreign key (fk_id_contact_person) references contact_person;
alter table if exists users add constraint FKqlif7se6sma4svjik6hbxmf4o foreign key (fk_user) references address;
